<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu Mastermind</title>
</head>
<body>
    <script>
        const v = [1, 3, 7, 8, 2];
        let n = [];
        let r = 0;
        let e = 0;
        let z = 0;
        
        while (r > -1) {
            let c = prompt("Entrez une série de 5 chiffres comme 12345 : ");
            while (!c.match(/^\d{5}$/)) {
                c = prompt("Erreur : Entrez une série de 5 chiffres comme 12345 : ");
            }
            
            n = c.split('').map(Number);
            
            console.log(n);
            
            v.forEach(j => {
                n.forEach(k => {
                    if (j === k) {
                        z = 1;
                    }
                });
                e += z;
                z = 0;
            });
            
            for (let i = 0; i < 5; i++) {
                if (v[i] === n[i]) {
                    r++;
                }
            }
            
            if (r === 5) {
                alert("Gagné");
                break;
            } else {
                alert("Il y a " + e + " bon(s) chiffre(s), dont " + r + " chiffre(s) à la bonne place\nLe jeu va continuer");
            }
            
            r = 0;
            n = [];
            e = 0;
            z = 0;
        }
    </script>
</body>
</html>
